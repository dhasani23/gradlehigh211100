# Order Processing Module Configuration
# Contains essential configuration for database, messaging, and order processing

# ===============================
# = APPLICATION INFORMATION
# ===============================
spring.application.name=order-processing-service
application.version=1.0.0
application.description=Order processing engine for gradlehigh211100

# ===============================
# = DATABASE CONFIGURATION
# ===============================
# Primary database configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/order_db
spring.datasource.username=orderuser
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate properties
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# Connection pool settings
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# ===============================
# = RABBITMQ CONFIGURATION
# ===============================
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest
spring.rabbitmq.virtual-host=/
spring.rabbitmq.listener.simple.concurrency=4
spring.rabbitmq.listener.simple.max-concurrency=8

# Order processing queues and exchanges
rabbitmq.exchange.order-events=order.events.exchange
rabbitmq.queue.order-created=order.created.queue
rabbitmq.queue.payment-processing=order.payment.queue
rabbitmq.queue.inventory-reservation=order.inventory.queue
rabbitmq.queue.shipping=order.shipping.queue
rabbitmq.routing-key.order-created=order.created
rabbitmq.routing-key.payment-processing=order.payment.processing
rabbitmq.routing-key.inventory-reservation=order.inventory.reservation
rabbitmq.routing-key.shipping=order.shipping

# ===============================
# = ORDER PROCESSING SETTINGS
# ===============================
# State machine configuration
order.state-machine.persist-states=true
order.state-machine.auto-start=true
order.state-machine.allow-transition-log=true

# Order validation settings
order.validation.min-order-amount=10.00
order.validation.max-items-per-order=50
order.validation.enable-fraud-check=true
order.validation.min-customer-age=18

# Payment processing settings
payment.processor.timeout.seconds=30
payment.retry.max-attempts=3
payment.retry.delay.seconds=5
payment.gateway.url=https://payment-gateway.example.com/api/v1/process
payment.supported-methods=CREDIT_CARD,DEBIT_CARD,PAYPAL,BANK_TRANSFER,CASH_ON_DELIVERY

# Inventory settings
inventory.reservation.timeout.minutes=15
inventory.allow-backorder=false
inventory.check-threshold=true
inventory.low-stock-threshold=5

# Shipping settings
shipping.default-provider=DHL
shipping.providers=DHL,FedEx,UPS
shipping.tracking-notification=true
shipping.same-day-cutoff-hour=12
shipping.express-available=true
shipping.international-shipping=true

# Cart settings
cart.expiration.hours=48
cart.auto-merge=true
cart.save-for-later=true
cart.max-items=100

# Discount and pricing settings
pricing.apply-volume-discounts=true
pricing.min-quantity-for-discount=5
pricing.discount-percent=5
pricing.calculate-tax=true
pricing.default-tax-rate=0.07

# Notification settings
notification.order-confirmation=true
notification.shipping-updates=true
notification.order-cancellation=true
notification.send-survey-after-delivery=true
notification.delay-after-delivery.days=3

# External system integration
integration.erp.enabled=true
integration.erp.url=http://erp.example.com/api
integration.erp.sync-interval.minutes=15
integration.fulfillment.url=http://fulfillment.example.com/api
integration.fulfillment.auth-key=${FULFILLMENT_AUTH_KEY:defaultkey}

# ===============================
# = MONITORING & LOGGING
# ===============================
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
logging.level.com.gradlehigh211100.orderprocessing=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n